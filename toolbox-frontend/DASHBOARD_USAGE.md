# 管理员数据看板使用说明

## 📊 功能概述

管理员数据看板是一个专门为网站管理员设计的实时监控工具，用于跟踪和分析网站访问数据、用户行为和工具使用情况。

## 🔐 访问权限

- **仅管理员可见**：普通用户无法访问此页面
- **账号密码验证**：需要输入正确的管理员账号和密码
- **安全锁定**：连续登录失败5次后账号锁定15分钟
- **会话管理**：登录状态24小时有效，超时自动退出
- **操作日志**：记录所有管理员操作行为

## 🚀 快速开始

### 1. 访问仪表板
```
http://localhost:5173/admin/dashboard
```

### 2. 管理员登录
- 输入管理员账号：`xaohii`
- 输入管理员密码：`Qwer1234.Md`
- 点击"登录"按钮
- 系统验证成功后进入仪表板主界面

**注意**：账号信息从 `src/env.cfg` 配置文件读取，如需修改请编辑该文件。

### 3. 查看数据
- **访问概览**：查看总体访问统计
- **IP访问记录**：查看详细的访问记录
- **全球访问地图**：查看地理分布

## 📈 功能模块

### 1. 访问概览
- **总访问量**：网站总访问次数
- **今日访问**：今日访问次数
- **独立访客**：不同IP的访问者数量
- **访问国家**：覆盖的国家数量
- **访问量趋势图**：30天访问量变化趋势

### 2. IP访问记录表格
- **IP地址**：访问者的IP地址
- **地理位置**：国家、城市信息
- **访问功能**：使用的具体工具
- **设备信息**：浏览器、设备类型
- **访问时间**：详细的访问时间戳
- **停留时间**：页面停留时长
- **状态**：访问成功/失败状态

#### 表格功能
- **搜索功能**：支持IP、国家、城市、功能搜索
- **国家筛选**：按国家筛选访问记录
- **排序功能**：支持各列排序
- **分页显示**：每页20条记录
- **数据导出**：支持导出访问记录

### 3. 全球访问地图
- **可视化展示**：世界地图显示访问分布
- **颜色深浅**：根据访问量显示不同颜色深度
- **悬停提示**：显示详细访问信息
- **访问排行榜**：显示访问量最高的国家

## 📊 数据来源

### 真实数据（推荐）
- 自动收集用户访问行为
- 记录IP地址和地理位置
- 统计工具使用情况
- 计算访问时长和频率

### 模拟数据（备用）
- 当无法获取真实数据时使用
- 生成逼真的模拟访问记录
- 包含多种国家和工具类型

## 🔧 配置选项

### 时间范围选择
- 支持自定义日期范围
- 默认显示最近30天数据
- 实时更新统计数据

### 工具筛选
- 可选择特定工具查看数据
- 支持所有工具或单个工具
- 动态更新图表和表格

### 数据刷新
- 手动刷新按钮
- 自动定时更新
- 实时数据同步

## 📱 响应式设计

- **桌面端**：完整功能展示
- **平板端**：适配中等屏幕
- **移动端**：优化移动体验

## 🔍 数据追踪

### 自动追踪
- 页面访问记录
- 工具使用情况
- 用户行为分析
- 地理位置信息

### 隐私保护
- 仅记录必要信息
- 不收集个人敏感数据
- 符合隐私保护要求

## 🛠️ 技术实现

### 前端技术
- React 19 + Vite
- Ant Design 组件库
- Chart.js 图表库
- 响应式设计

### 数据存储
- 本地存储（localStorage）
- 模拟后端API
- 实时数据更新

### 地图实现
- SVG 世界地图
- 交互式国家选择
- 动态颜色渲染

## 🚀 部署说明

### 开发环境
```bash
npm run dev
# 访问 http://localhost:5173/admin/dashboard
```

### 生产环境
```bash
npm run build
npm run preview
```

## 🔧 自定义配置

### 修改管理员权限
```javascript
// 在 AdminDashboard.jsx 中修改
const adminToken = localStorage.getItem('admin_token');
const isAdminUser = adminToken === 'your_admin_token';
```

### 添加新的数据源
```javascript
// 在 dashboardMock.js 中添加
async getCustomData() {
  // 实现自定义数据获取逻辑
}
```

### 修改图表样式
```javascript
// 在 AccessChart.jsx 中修改
const options = {
  // 自定义图表配置
};
```

## 📞 技术支持

### 常见问题
1. **无法访问仪表板**：检查管理员权限设置
2. **数据不显示**：检查网络连接和数据源
3. **图表加载失败**：检查Chart.js依赖安装

### 联系支持
- 查看控制台错误信息
- 检查网络请求状态
- 验证数据格式正确性

## 🔄 更新日志

### v1.0.0
- 初始版本发布
- 基础访问统计功能
- IP记录和地图展示
- 管理员权限控制

### 计划功能
- 实时数据推送
- 更多图表类型
- 数据导出功能
- 自定义报表

---

**注意**：此仪表板仅用于演示和学习目的。在生产环境中，请确保实现适当的安全措施和数据保护机制。 